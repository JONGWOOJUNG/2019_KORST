min(food)
mean(food)
max(food)
mode(food)
plot(food)
library(xslx)
library(xlsx)
data <- read.xlsx("190425_DATA",3)
data <- read.xlsx("190425_DATA")
getwd()
data <- read.xlsx("C:/Users/jongu/OneDrive/Documents/190425_DATA")
data <- read.xlsx("C:/Users/jongu/OneDrive/Documents/190425_DATA",0)
data <- read.xlsx("C:/Users/jongu/OneDrive/Documents/190425_DATA",3)
data <- read.xlsx("C:/Users/jongu/OneDrive/Documents/190425_DATA",sheet=3)
a<-c(1,2)
b<-c(3,4)
a+b #벡터 변수의 덧셈
a-b #벡터 변수의 뺄셈
a*b #벡터 변수의 곱셈
a/b #벡터 변수의 나눗셈
A<-matrix(c(5,10,2,1), ncol=2)
B<-matrix(c(3,4,5,6), ncol=2)
A
A+B #행렬변수의 덧셈
A-B #행렬변수의 뺄셈
A*B #행렬변수의 곱셈
A/B #행렬변수의 나눗셈
rm(list = ls()) #오브젝트 내의 모든 변수 삭제
2^2 #일반적인 숫자의 제곱(2의 2제곱)
x<-4
y<-3
x^y #값을 변수에 할당한 후에 제곱(4의 세제곱)
a<-c(4,5)
b<-c(2,3)
a^b #벡터변수의 제곱(구성 요소들간의 제곱, 4^2, 5^3)
A<-matrix(c(5,10,2,1), ncol=2)
B<-matrix(c(2,2,2,2), ncol=2)
A^B #행렬변수의 제곱(각 구성 요소들간의 제곱)
rm(list = ls()) #오브젝트 내의 모든 변수 삭제
A <- rep(seq(1,20,1))
A
?rep
A <- rep(seq(1,20,1), each = 1:20)
A <- seq(1,20,1)
AA <- rep(AA, each = A)
AA <- rep(A, each = A)
AA <- rep(A)
AA
AA <- rep(A, each = 1)
AA
AA <- rep(A, 1:20)
AA
A <- rep(seq(1,20,1), 1:20)
A
if(AA%%2=1) print(AA)
if(AA%%2==1) print(AA)
if(A%%2==1) print(A)
A <- c(rep(seq(1,20,1), 1:20))
A
A <- c(rep(1:20,seq(1,20,1)))
A
Sample.df <- data.frame(AA = rep(letters[1:5],10), BB = sample(60:70, 50, replace = T), stringsAsFactors = FALSE)
head(Sample.df)
Sample.df <- data.frame(AA = rep(letters[1:5],10), BB = sample(60:70, 50, replace = T), stringsAsFactors = FALSE)
head(Sample.df)
str(Sample.df)
#AA컬럼의 값중에서 a인 값만 추출
#Type1
Sample.df[Sample.df$AA == "a",]
A
A$2
if(A[i]=A[i+1]) print(A)
if(A[i]==A[i+1]) print(A)
if(A[1]==A[1+1]) print(A)
A
A <- c(rep(1:20,seq(1,20,1)))
#if(조건) 조건이 참일 때 실행문 else 조건이 참이 아닐 때 실행문
#괄호안의 조건이 참이면 참일때의 실행문을 수행하고 거짓일 때는 참이 아닐때의 실행문을 수행하는 표현식
x <- c(1,2,3,4)
y <- c(2,1,4,5)
if(mean(x)>mean(y)) print("Mean(x)>Mean(y)") else print("Mean(x)<Mean(y)")
#중첩 조건문 : 조건문 안에 조건문이 있는 표현식
if(length(x)==5) {
if(sum(x) == 10) print("length=5, sum=10")
} else {
print("length=4, sum=10")
}
#ifelse(조건, 조건이 참일때의 실행문, 조건이 참이 아닐때의 실행문)
ifelse(x<y, x, y)
rep(1:3, times=seq(1,5,by=2))
A <- c(rep(1:20,seq(1,20,1)))
A
#중첩 조건문 : 조건문 안에 조건문이 있는 표현식
if(length(x)==5) {
if(sum(x) == 10) print("length=5, sum=10")
} else {
print("length=4, sum=10")
}
#중첩 조건문 : 조건문 안에 조건문이 있는 표현식
if(length(x)==4) {
if(sum(x) == 10) print("length=5, sum=10")
} else {
print("length=4, sum=10")
}
AA <- c(rep(1:20,1))
AA
AA <- c(rep(1:20,1:20))
AA
AA[1]
AA[2]
#예제1
#변수 i가 1에서 5까지의 값을 갖을 때까지 print(rep(i,i))라는 실행문을 실행한다.
#i=1이면 print(rep(1,1))을 실행하고 i=2이면 print(rep(2,2))을 실행한다. 이렇게 i=5일때까지 실행을 하게된다.
for(i in 1:5) print(rep(i,i))
#예제1
#변수 i가 1에서 5까지의 값을 갖을 때까지 print(rep(i,i))라는 실행문을 실행한다.
#i=1이면 print(rep(1,1))을 실행하고 i=2이면 print(rep(2,2))을 실행한다. 이렇게 i=5일때까지 실행을 하게된다.
for(i in 1:5) print(rep(i,i))
AA <- C(0)
AA <- C()
#예제2 : 1부터 10까지 합 구하기
sum.x<-0
sum.x
AA <- 0
ifelse(A[i]==A[i+1], print(paste(A[i],A[i+1])))
A <- c(rep(1:20,seq(1,20,1)))
ifelse(A[i]==A[i+1], print(paste(A[i],A[i+1])))
A
A <- c(rep(1:20,seq(1,20,1)))
AA <- if(A[i]==A[i+1], "ok", "no")
print("error")
A[i]==A[i+1]
print(paste(A[i],A[i+1],seq="")
A <- rep(1:20,1)
A <- rep(1:20,1)
A <- c(rep(1:20,seq(1,20,1)))
AA <- rep(1:20,1:20)
ifelse(A[i]==AA[i+1], paste(A,AA,seq=""), "error")
a <- ifelse(A[i]==AA[i+1], paste(A,AA,seq=""), "error")
a
ifelse(A[i]==AA[i+1], paste(A,AA,seq=""), "error")
for (i in 1:20) {
ifelse(A[i]==AA[i+1], paste(A,AA,seq=""), "error")
}
for (i in 1:20) {
ifelse(A[i]==AA[i+1], paste(A,AA,seq=""), "error")
}
a <- for (i in 1:20) {
ifelse(A[i]==AA[i+1], paste(A,AA,seq=""), "error")
}
a
ifelse(A[i]==AA[i], paste(A[i],AA[i],seq=""), "error")
A <- c(rep(1:20,seq(1,20,1)))
if(i == i+1) paste <- paste(i,i+1)
print(paste)
if(i == i+1) paste <- paste(i,i+1,seq="")
print(paste)
A <- seq(1:20,1)
A <- rep(1:20,each=seq(,1:20))
a <- rep(1:20, each=seq(1,20,1))
a <- rep(1:20, times=seq(1,20,1))
a
a <- rep(1:20, each=1:20)
seq(1,20,1)
rep(seq(1,20,1),1:20)
A <- rep(1:20,seq(1,20,1))
A
A <- rep(1:20,2)
A
A <- rep(1:20,2,2)
A
A <- rep(1:20,2,20)
A
A <- rep(1:20,seq(1,20,1))
rm(list=ls())
A <- rep(1:20,seq(1,20,1))
#행렬의 곱
A<-matrix(c(5,10,2,1), ncol=2)
B<-matrix(c(3,4,5,6), ncol=2)
#(5*3) + (2*4) ; (5*5) + (2*6) ; (10*3) + (1*4) ; (10*5) + (1*6)
A;B
#(5*3) + (2*4) ; (5*5) + (2*6) ; (10*3) + (1*4) ; (10*5) + (1*6)
A:B
#(5*3) + (2*4) ; (5*5) + (2*6) ; (10*3) + (1*4) ; (10*5) + (1*6)
A;B
A%*%B
#%/% : 나눗셈에서 몫만 출력함
4%/%2
x<-3
y<-2
x%/%y #실제 값이 1.5이지만 정수부분인 1만 출력
#1
A <- sum(A%%A==0)
A
#1
A[A %% 2 ==0]
A
A <- rep(1:20,seq(1,20,1))
A
2%%2
2%%4
6%%2
5&&2
7%%2
5%%2
20%%2
#1
AA <- A[A %% 2 == 0]
AA
sum(AA)
#2
AAA <- A[AA %% 2 == 1]
AAA
#2
AAA <- A[A %% 2 == 1]
AAAA
AAA
count(AAA)
# 실습1
library(plyr)
count(AAA)
sum(count(AAA))
5%%2
#3
AAAA <- A[A %% 5 == 3]
AAAA
#3
A[A %% 5 == 3]
#3
AAAA <- A[A %% 5 == 3]
# 실습2
data(iris)
head(iris)
iris_even <- iris[i %% 2 == 0,]
iris_even <- iris[1,]
iris_even
tail(iris)
iris_even <- iris[seq(2,150,2),]
iris_even
head(iris)
iris_even <- iris[seq(2,150,2),1]
iris_even
iris_even <- iris$Sepal.Length[seq(2,150,2),]
iris_even <- iris$Sepal.Length
iris_even
iris_even <- iris[seq(2,150,2),]
iris_even
iris_even <- iris[seq(2,150,2),1]
iris_even
iris_Speal.Length_even <- iris[seq(2,150,2),1]
iris_Speal.Length_even
#2
subset(iris, Species == 'setosa')
iris[iris$Species %in% c("setosa")]
iris[iris$Species %in% c("setosa")]
iris[iris$Species %in% c("setosa")]
iris[iris$Species %in% c("setosa"),]
iris[iris$Species %in% c("setosa"),2]
?%in%
iris[iris$Species %in% c("setosa")]
iris[iris$Species %in% "setosa"]
),
),
iris[iris$Species %in% c("setosa"),]
iris[iris$Species %in% c("setosa"),]
#Type2
subset(Sample.df, AA %in% c("a","b"))
Sample.df <- data.frame(AA = rep(letters[1:5],10), BB = sample(60:70, 50, replace = T), stringsAsFactors = FALSE)
head(Sample.df)
#Type2
subset(Sample.df, AA %in% c("a","b"))
?sum
?sumif
#3
a <- iris[iris$Species %in% c("setosa"),]
a <- a[a$Sepal.Length %in% <=5]
head(a)
a <- a[a$Sepal.Length <= 5]
a <- a$Sepal.Length <= 5]
a <- a$Sepal.Length <= 5
a
#3
a <- iris[iris$Species %in% c("setosa"),]
head(a)
subset(a, Sepal.Length <= 5)
subset(a, Sepal.Length < 5)
sum(a$Petal.Width(subset(a, Sepal.Length < 5))
b <- sum(a$Petal.Width(subset(a, Sepal.Length < 5))
subset(a, Sepal.Length < 5)
b <- subset(a, Sepal.Length < 5)
sum(a$Petal.Length)
# 실습 3
data(iris)
subset(iris$Sepal.Width>=mean(iris$Sepal.Width))
subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width))
mean(iris$Sepal.Width)
aa <- subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width))
aa
head(aa)
mean(iris$Sepal.Width)
A <- subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width))
A
#3
a <- iris[iris$Species %in% c("setosa"),]
head(a)
A <- iris[iris$Sepal.Width %in% > mean(iris$Sepal.Width)]
A <- iris[iris$Sepal.Width %in% > mean(iris$Sepal.Width),]
A <- iris$Sepal.Width %in% >= mean(iris$Sepal.Width)
mean(iris$Sepal.Width)
A <- iris$Sepal.Width %in% >= 3.057333)
iris[iris, iris$Sepal.Width %in% c(>=mean(iris$Sepal.Width)),]
iris[iris, iris$Sepal.Width %in% c('>=mean(iris$Sepal.Width)'),]
A
iris[iris, iris$Sepal.Width %in% >== mean(iris$Sepal.Width)
A <- subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width), F)
A
A <- subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width), ,F)
A
A <- subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width))
A
iris$Sepal.Width %in% >= mean(iris$Sepal.Width)
AA <- iris$Sepal.Width >= mean(iris$Sepal.Width)
AA
iris$Sepal.Width %in% AA
tmp1 <- data.frame(AA = c("A","A","B"), BB = c(1,2,3))
tmp2 <- data.frame(AA = c("A","C"), CC = c("OLD", "NEW"), DD = c("A", "B"))
#tmp1기준으로 데이터 합치기
merge(tmp1, tmp2, by = "AA", all.x = T)
#tmp2 기준으로 데이터 합치기
merge(tmp1, tmp2, by = "AA", all.y = T)
tmp1 <- data.frame(AA = c("A","A","B"), BB = c(1,2,3))
tmp2 <- data.frame(AA = c("A","C"), CC = c("OLD", "NEW"), DD = c("A", "B"))
#tmp1기준으로 데이터 합치기
merge(tmp1, tmp2, by = "AA", all.x = T)
#tmp2 기준으로 데이터 합치기
merge(tmp1, tmp2, by = "AA", all.y = T)
#tmp1기준으로 서로 다른컬럼 데이터 합치기
merge(tmp1, tmp2, by.x = "AA", by.y = "DD", all.x = T)
#tmp1기준으로 서로 다른컬럼 데이터 합치기
merge(tmp1, tmp2, by.x = "AA", by.y = "DD", all.x = T)
tmp2 <- data.frame(AA = c("A","C"), CC = c("OLD", "NEW"), DD = c("A", "B"))
tmp2
AA <- iris$Sepal.Width >= mean(iris$Sepal.Width)
AA %in% iris$Sepal.Width
A <- subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width))
A
df <- data.frame(A)
DF
df
subset(iris, subset = iris$Sepal.Width >= mean(iris$Sepal.Width))
a <- subset(iris, subset = iris$Sepal.Width >= mean(iris$Sepal.Width))
a
A[2]
A[2,]
B <- A[seq(1,,2),2]
B
B <- A[seq(1,150,2),2]
B
count(A)
sum(count(A))
A <- subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width))
sum(count(A))
A[seq(1,150,2),2]
B <- A[seq(1,150,2),2]
A <- subset(iris, iris$Sepal.Width>=mean(iris$Sepal.Width))
B <- A[seq(1,67,2),2]
B
sum(B)
#1. 상관관계분석(Correlation)
height<-c(164,175,166,185)
weight<-c(62,70,64,86)
cor(height,weight)
round(cor(height,weight),3)
library(moonBook)
data(acs)
acs
#install.packages("psych")
library(psych)
str(acs)
acs2<-acs[,c(1,6:9)]
cor(acs2)
?cor
#na가 존재할시 na 제외후 계산
cor(acs2,use="na.or.complete")
#산점도행렬
pairs.panels(acs2)
#install.packages("PerformanceAnalytics");
library(PerformanceAnalytics)
#산점도행렬
chart.Correlation(acs2, histogram=TRUE, pch=19)
dat<-data.frame(
a=c(15,20,25,27,31,25,23,23,42,12,34,23,40),
b=c(50,55,52,52,56,54,62,56,70,46,43,50,54)
)
plot(dat$a,dat$b)
abline(lm(dat$b~dat$a))
cor(dat$a,dat$b)
#outlier 추가
dat[14,]<-c(200,230)
dat
#outlier 추가
dat[14,]<-c(200,230)
plot(dat$a,dat$b)
abline(lm(dat$b~dat$a))
cor(dat$a,dat$b)
#heatmap expression
library(corrplot)
corrplot(cor(acs2,use="na.or.complete"))
corrplot(cor(acs2,use="na.or.complete"),method="square")
corrplot(cor(acs2,use="na.or.complete"),method="ellipse")
corrplot(cor(acs2,use="na.or.complete"),method="number")
corrplot(cor(acs2,use="na.or.complete"),method="shade")
corrplot(cor(acs2,use="na.or.complete"),method="color")
corrplot(cor(acs2,use="na.or.complete"),method="pie")
#cor의 비모수적인 표현들
#1. spearman
#2. kendall's tau
cor(height,weight)
cor(height,weight,method="spearman")
cor(height,weight,method="kendall")
t_data<-data.frame(
group=c(1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2),
score=c(100,100,80,50,40,90,20,50,50,70,30,40,30,70,30,40,30,60,30,60),
age=c(70,70,70,60,50,60,60,60,50,50,20,30,20,20,25,10,13,10,10,10))
plot(score~as.factor(group),data=t_data)
#정규성 검정1 -  shapiro
shapiro.test(t_data$score)
#정규성 검정2 - anderson daliing
library(nortest)
ad.test(t_data$score)
ks.test(t_data$score,pnorm)
t_data_1<-t_data[t_data$group==1,]
t_data_2<-t_data[t_data$group==2,]
var.test(t_data_1$score,t_data_2$score)
#1번 t.test방법
t.test(t_data_1$score,t_data_2$score,var.equal=TRUE)
t.test(score~group,data=t_data,var.equal=TRUE)
#1번 t.test방법
t.test(t_data_1$score,t_data_2$score,var.equal=TRUE)
t.test(score~group,data=t_data,var.equal=TRUE)
before_op=c(137,119,117,122,132,110,114,117)
after_op=c(126,111,117,116,135,106,113,112)
t.test(before_op,after_op,paired=T)
anova_data<-data.frame(
group=c(1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3),
score=c(50.5, 52.1, 51.9, 52.4, 50.6, 51.4, 51.2, 52.2, 51.5, 50.8,47.5, 47.7, 46.6, 47.1, 47.2, 47.8, 45.2, 47.4, 45.0, 47.9,46.0, 47.1, 45.6, 47.1, 47.2, 46.4, 45.9, 47.1, 44.9, 46.2))
boxplot(score~group,data=anova_data)
?tapply
table(anova_data)
boxplot(score~group,data=anova_data)
tapply(anova_data$score,anova_data$group,mean)
tapply(anova_data$score,anova_data$group,max)
table(anova_data)
#등분산성 test
bartlett.test(score~as.factor(group),data=anova_data)
a1<-aov(score~group,data=anova_data)
summary(aov(score~group,data=anova_data))
summary(a1)
table(tapply(anova_data$score,anova_data$group,mean))
boxplot(score~group,data=anova_data)
tapply(anova_data$score,anova_data$group,mean)
### 190702 1st
getwd()
setwd("C:/Users/jongu/OneDrive/바탕 화면/JJW/13. 개인공부/02. Bike-sharing")
library(readr)
library(dplyr)
library(VIM) # Missing values assesment used by VIM::aggr()
library(ggplot2) # Used in almost visualization
library(RColorBrewer) # plot의 color 설정
library(scales) # plot setting - x축, y축 설정
read.csv.any <- function(text, sep = "", ...) {
encoding <- as.character(guess_encoding(text)[1,1])
setting <- as.character(tools::file_ext(text))
if(sep != "" | !(setting  %in% c("csv", "txt")) ) setting <- "custom"
separate <- list(csv = ",", txt = "\n", custom = sep)
result <- read.table(text, sep = separate[[setting]], fileEncoding = encoding, ...)
return(result)
}
bike1809 <- read.csv.any("서울특별시 공공자전거 시간대별 대여정보_201809.csv", header = TRUE)
summary(bike1809, 10)
summary(bike1809)
head(bike09, 10)
head(bike1809, 10)
### Missing value
is.na(bike1809)
### Missing value
sum(is.na(bike1809))
bike1810 <- read.csv.any("서울특별시 공공자전거 시간대별 대여정보_201810.csv", header = TRUE)
head(bike1810, 10)
summary(bike1810)
sum(is.na(bike1810))
### Missing value
sum(is.na(bike1809))
sum(is.na(bike1810))
colSums(is.na(bike1809))
setwd("C:/Users/jongu/OneDrive/바탕 화면/JJW/06. 논문및학술발표자료/01. 학술발표/00. Smart_Bike_Sharing/01. Workplace")
bikestation <- read.csv.any("서울특별시 공공자전거 대여소 정보_20181129", header = TRUE)
bikestation <- read.csv.any("서울특별시 공공자전거 대여소 정보_20181129.CSV", header = TRUE)
bikestation <- read.csv.any("서울특별시 공공자전거 대여소 정보_20181129.csv", header = TRUE)
sum(is.na(bikestation))
head(bikestation, 10)
head(bike1809, 10)
sum(is.na(bike1809))
sum(is.na(bike1810))
sum(is.na(bikestation))
colSums(is.na(bike1809))
?cbind
?bind_colls
?bind_collums
summary(bike1810)
?bind_cols
bike09 <- dplyr::bind_cols(bike1809, bikestation)
